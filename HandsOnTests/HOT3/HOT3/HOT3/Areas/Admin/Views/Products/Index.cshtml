@model IEnumerable<HOT3.Models.Product>
@{
	Layout = "/Areas/Admin/Views/Shared/_Layout.cshtml";
	ViewData["Title"] = "Products (Admin)";
}

@if (TempData["Success"] is string msg && !string.IsNullOrWhiteSpace(msg))
{
	<div class="alert alert-success alert-dismissible fade show text-center" role="alert">
		@msg
		<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
	</div>
}

<div class="d-flex justify-content-between align-items-center mb-3">
	<h2 class="m-0">Products</h2>
	<a asp-area="Admin" asp-controller="Products" asp-action="Create" class="btn btn-primary">Add New Product</a>
</div>

<table class="table table-stripped align-middle">
	<thead class="table-dark">
		<tr>
			<th>Name</th>
			<th>Brand</th>
			<th>Category</th>
			<th class="text-end">Price</th>
			<th>Image</th>
			<th>Slug</th>
			<th style="width:160px;"></th>
		</tr>
	</thead>
	<tbody>
		@foreach (var p in Model)
		{
			<tr>
				<td>@p.Name</td>
				<td>@p.Brand</td>
				<td>@p.Category</td>
				<td class="text-end">$@p.Price</td>
				<td>@p.ImageFileName</td>
				<td class="text-muted">@p.Slug</td>
				<td class="text-end">
					<a class="btn btn-sm btn-outline-primary me-1" asp-area="Admin" asp-controller="Products" asp-action="Edit"
						asp-route-id="@p.ProductId" asp-route-slug="@p.Slug">Edit</a>

					<a class="btn btn-sm btn-outline-danger" asp-area="Admin" asp-controller="Products"
						asp-action="Delete" asp-route-id="@p.ProductId" asp-route-slug="@p.Slug">Delete</a>
				</td>
			</tr>
		}
	</tbody>
</table>